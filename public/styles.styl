$darkgrey = #333;
$grey = #777;
$lightgrey = #bbb;
$darkblue = #000111;
$lightblue = #428bca;
$orange = #ff7f2b;
$maroon = #502d17;
$white = #fff;

$fg=$darkgrey;

@css{
@-moz-keyframes spin { 100% { -moz-transform: rotate(360deg); } }
@-webkit-keyframes spin { 100% { -webkit-transform: rotate(360deg); } }
@keyframes spin { 100% { -webkit-transform: rotate(360deg); transform:rotate(360deg); } }
}

$border-radius{ border-radius:.3em;}

//-- mixin to apply status colors and symbol to any element regarding their status-* class
$statusSymbol{
	&:before{
		display:inline-block;
		font-size:1.25em;
		line-height:1em;
		vertical-align:middle;
		margin-right:.25em;
	}
	&.status-unknown:before{
		color: $darkgrey;
		content:"►";
	}
	&.status-ok:before{
		color: #080;
		content:"\2714";
	}
	&.status-queued:before{
		color:#950;
		content:"\26A1";
	}
	&.status-running:before{
		color:#008;
		content:"↻";

		-webkit-animation:spin 2s linear infinite;
		-moz-animation:spin 2s linear infinite;
		animation:spin 2s linear infinite;
	}
	&.status-failed:before{
		color:#800;
		content:"\2620";
	}
}

//-- defining basic style for native elements
body{
	font-size:.675em;
	font-family:Sans Serif;
	color:$fg;
	background:$lightgrey;
	margin:0;
}

button{
	border: 1px solid #333;
	border-radius:.2em;
	box-shadow: 1px 1px 1px #333;
	color:#333;
	background:#ddd;
	cursor:pointer;
}
button:hover{
	opacity:.7;
}
button:focus{
	outline:none;
	box-shadow: 0px 0px 3px $orange;
}
button:active{
	background:#eee;
	box-shadow:none;
}

//-- this is the banner of the site
header{
	background-color: $darkblue;
	background: -webkit-linear-gradient(top, $darkblue 0%,$darkgrey 100%);
	background: -moz-linear-gradient(top, $darkblue 0%,$darkgrey 100%);
	background: -ms-linear-gradient(top, $darkblue 0%,$darkgrey 100%);
	background: -o-linear-gradient(top, $darkblue 0%,$darkgrey 100%);
	background: linear-gradient(top, $darkblue 0%,$darkgrey 100%);
	color: $white;
	position: relative;
	h1{
		margin:0;
		padding:1em;
	}
	.actions{
		text-align:right;
		padding:1em;
	}
}
.logo{
	float: left;
	display: block;
	margin: .5em;
}
//-- filters container in the header
#filters{
	display: inline-block;
	margin-right:1em;
}

//-- git update button displayed only if the root test directory is a git repository
#wwUpdate{
	position: absolute;
	top:1.75em;
	right:1em;
	display:none;
}

//-- container for the global report
#wwReportContainer{
	position:relative;
	color:$white;
	background:$darkgrey;
	width:90%;
	padding:.8em;
	margin:auto;
	font-size:1.25em;
}
//-- this is the bar display in the global report
#statusMeter{
	display:flex;
	padding:0;
	margin:0;
	text-align:center;
	white-space:nowrap;
	font-size:.8em;
	line-height:2em;

	li{
		display: inline-block;
		&.status-ok{ background-color: #CCFFCC; }
		&.status-unknown{ background-color: $white; }
		&.status-running{ background-color: #CCCCFF; }
		&.status-queued{ background-color: #FFFFCC; }
		&.status-failed{ background-color: #FFCCCC; }
		overflow:hidden;
		text-overflow:ellipsis;
	}
}

//-- list of test cases
#wwTestsContainer{
	position:relative;
}
dl{
	margin:auto;
	width:90%;
	padding:1em;
	background:$darkgrey;
}
dt{
	background:$white;
	@extend $border-radius;
	position:relative;
	/*line-height:3em;*/
	padding:1em;
	margin:.5em 0 0 0;
	.name{
		font-weight:bold;
		font-size:1.1em;
		cursor:pointer;
	}
	.actions{
		position:absolute;
		right:1em;
		top:.75em;
		button{
			@extend $statusSymbol;
		}
	}
	&.hidden, &.hidden + dd, &.collapsed + dd {
		display:none;
	}
}
dd{
	background:$white;
	width:95%;
	margin:0 auto 1em auto;
	padding:1em;
	overflow:auto;
	// max-height:350px;
	@extend $border-radius;
	border-top-left-radius: 0;
	border-top-right-radius: 0;
	div.report {
		padding:1em;
		margin:0;
		border-style:solid;
		border-width:1px;
		@extend $border-radius;
		@extend $statusSymbol;
		cursor:pointer;
		.name{
				font-weight:bold;
		}
		&.open{
			code{
				display:block;
				cursor:text;
				width:100%;
				overflow:auto;
				border:solid 1px;
				box-sizing: border-box;
				padding: .4em;
				font-size: 1.2em;
				font-family:monospace;
				white-space: pre;
				max-height:350px;
			}
		}
		code{
			display:none;
		}
	}
}
//-- expand toggle buttton
.expander{
	cursor:pointer;
	color:$white;
	position:absolute;
	right:5%;
	top:0;
	text-align:right;
}
.status-unknown{
	background-color:$white;
	border-color:$darkgrey !important;
	color:$darkgrey;
}
.status-queued{
	background-color:#ffb;
	border-color:#fb4 !important;
	color:#950;
}
.status-failed{
	background-color:#fffafa;
	border-color:#b44 !important;
	color:#922;
}
.status-ok{
	background-color:#fafffa;
	border-color:#4b4 !important;
	color:#292;
}
.status-running{
	background-color:#fafaff;
	border-color:#33f !important;
	color:#229;
}
