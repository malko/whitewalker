/**
* minimal jquery/zepto compatibility layer
* @author jgotti at jgotti dot org for http://agence-modemploi.com
* @licence Dual licence LGPL / MIT
*/
(function(t){"use strict";if(!window.$||"$"!==t){var n=function(t,e){if(E(t))return n.ready(t);var i;if(t===window||t===document||L(t))i=[t];else if(w(t))i=t;else if(w(e))i=[],n.each(e,function(e,r){n(t,r).each(function(t,n){i.push(n)})});else if(e&&9!==e.nodeType||!T.test(t))if(S.test(t))i=j((e||document).getElementsByClassName(t.substr(1)));else if($.test(t))i=j((e||document).getElementsByTagName(t));else if(M.test(t))i=P(t);else{e&&(e===window||e.document)&&(e=e.document);var r="";e&&t.match(/(^\s*[:>]|\S\s+\S)/)&&(r="#"+(e.id||(e.id=c))+" "),i=j((e||document).querySelectorAll(r+t)),r&&e.id===c&&(e.id=null)}else i=[(e||document).getElementById(t.substr(1))],null===i[0]&&(i=[]);return i.hasOwnProperty("each")||n.each(n.fn,function(t,n){i[t]=n}),i};n.ready=function(t){return document.readyState.match(/complete|loaded|interactive/)?setTimeout(t,0):document.addEventListener("DOMContentLoaded",function(){setTimeout(t,0)},!1),this},n.extend=function(){var t=arguments,e="boolean"==typeof t[0]?!0:!1,r=e?t[0]:!1,o=t[e?1:0],s=e?2:1,c=t.length,u;for(2===s&&(o=t[1]);c>s;s++)if(null!=t[s])for(u in t[s])t[s][u]!==i&&t[s][u]!==o&&t[s].hasOwnProperty(u)&&(r&&"object"==typeof t[s][u]?(o[u]=o[u]||(w(t[s][u])?[]:{}),n.extend(r,o[u],t[s][u])):o[u]=t[s][u]);return o},n.each=function(t,n){var e,i,r;if(w(t)||t instanceof NodeList){for(e=0,i=t.length;i>e;e++)if(n.call(t[e],e,t[e])===!1)return t}else for(r in t)if(t.hasOwnProperty(r)&&n.call(t[r],r,t[r])===!1)return t;return t},n.Event=function(t,e){var i=document.createEvent(t.match(/^(click|mousedown|mouseup|mousemove)$/)?"MouseEvents":"Events");return e&&n.extend(i,e),i.initEvent(t,e&&e.bubbles===!1?!1:!0,!0,null,null,null,null,null,null,null,null,null,null,null,null),i};var e={},i,r={elmts:{},handlers:{}},o=0,s=function(t){return t._uid||(t._uid=++o)},c="bcScopeSelectorId",u=window.document.addEventListener?function(t,n,e){n.addEventListener(t,e,!1)}:function(t,n,e){n.attachEvent("on"+t,e)},a=window.document.removeEventListener?function(t,n,e){n.removeEventListener(t,e,!1)}:function(t,n,e){n.detachEvent("on"+t,e)},l=function(t,e,o,c){n.each(t.split(/\s+/),function(t,n){var a=n.split("."),l=s(o);r.handlers[l]=o,(r.elmts[s(e)]||(r.elmts[s(e)]=[])).push({ns:2>a.length?i:a.slice(1).sort().join(" "),type:a[0],handler:l,s:c||i}),u(a[0],e,o)})},h=function(t,e,o,c){n.each(t.split(/\s+/),function(t,u){var l=u.split("."),h=o?s(o):i,f=l.slice(2).sort().join(" ");if(u=l[0],r.elmts[s(e)])for(var d=s(e),p=r.elmts[d].length,m,v;~--p;)m=r.elmts[d][p],!(u&&m.type!==u||c&&m.s!==c||h&&m.handler!==h||!(!f||m.ns&&m.ns.match(RegExp("(^| )"+f+"( |$)")))||!a(m.type,e,r.handlers[m.handler])&&!r.elmts[d].splice(p,1)),v=!0,n.each(r.elmts,function(t,e){return n.each(e,function(t,n){return n.handler===m.handler?v=!1:void 0}),v}),v&&delete r.handlers[m.handler]})},f=function(){return!0},d=function(){return!1},p=function(t,n){return"className"in t&&t.className.match(RegExp("(^|\\s)"+n+"($|\\s)"))?!0:!1},m=function(t,n){return window.getComputedStyle&&window.getComputedStyle(t,null).getPropertyValue(n)},v=function(t,e){var i=t.webkitMatchesSelector||t.mozMatchesSelector||t.oMatchesSelector||t.matchesSelector;return i?i.call(t,e):!!~n(e,t.parentNode).indexOf(t)},y=function(t,n,e){return n.call(t,e)},g=function(t,n){return!!~n.indexOf(t)},b=function(t){var n=typeof t;return"string"===n?v:"function"===n?y:g},w=n.isArray=function(t){return t instanceof Array},N=n.isObject=function(t){return"object"==typeof t},E=n.isFunction=function(t){return t instanceof Function},C=n.isNumeric=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},O=n.isEmptyObject=function(t){var e=!0;return n.each(t,function(){return e=!1}),e},x=n.isPlainObject=function(t){if(!(t instanceof Object)||t.nodeType||t.window&&t.window===t)return!1;try{if(t.constructor.prototype.hasOwnProperty("isPrototypeOf"))return!0}catch(n){}return!1},A=n.isDomNode=function(t){return N(t)&&t.nodeType},L=n.isDomElmt=function(t){return A(t)&&1===t.nodeType},S=/^\s*\.([a-z0-9-]+)\s*$/i,T=/^\s*#([a-z0-9-]+)\s*$/i,$=/^\s*([a-z]+)\s*$/i,M=/<(?:!|\w)+/,j=function(t){return[].slice.call(t,0)},P=function(t){var n=document.createDocumentFragment().appendChild(document.createElement("div")),e=t.match(/<(\w+)/),i="";if(e&&(e=e[1]).toLowerCase(),e&&(e.match(/^(thead|tfoot|tbody|caption|colgroup|col)$/)?i="<table>":"tr"===e?i="<table><tbody>":e.match(/^t[hd]/)?i="<table><tbody><tr>":"option"===e&&(i="<select>")),n.innerHTML=i+t+i.replace(/</g,"</"),i)for(i=i.match(/</g),i=i?i.length:0;i--;n=n.childNodes[0]);return j(n.childNodes)};n.fn={each:function(t){return n.each(this,t),this},on:function(t,e,r,o){var s=arguments,c=s.length,u;return o||(o=s[c-1]),2===c?e=r=i:3===c&&(N(e)?(r=e,r=i):r=i),u=e||r?function(t){return e===i||n(t.target).is(e)?(r&&(t.data=r),o.call(t.target,t)):void 0}:o,n.each(this,function(n,i){l(t,i,u,e)})},off:function(t,e,r){return!r&&E(e)&&(r=e,e=i),n.each(this,function(n,i){h(t,i,r,e)})},trigger:function(t,e){return"string"==typeof t&&(t=n.Event(t)),e&&(t.data=e),n.each(this,function(n,e){"dispatchEvent"in e&&e.dispatchEvent(t)})},css:function(t,e){if(N(t)){var r=this;return n.each(t,function(t,n){r.css(t,n)}),this}t.match(/[A-Z]/)&&(t=t.replace(/([A-Z])/g,"-$1"));var o=t.replace(/-([a-z])/g,function(t,n){return n.toUpperCase()});return e===i?this[0].style[o]||m(this[0],t):n.each(this,function(t,n){n.style[o]=e})},attr:function(t,e){if(x(t)){var r=this;return n.each(t,function(t,n){r.attr(t,n)}),this}if(e===i){var o=this[0].getAttribute(t);return!o&&t in this[0]?this[0][t]:o}return n.each(this,function(n,i){E(e)?t in i?i[t]=e.call(i,n,i[t]):i.setAttribute(t,e.call(i,n,i.getAttribute(t))):t in i?i[t]=e:e?i.setAttribute(t,e):i.removeAttribute(t)})},removeAttr:function(t){return this.attr(t,"")},prop:function(t,e){return e===i?this[0]&&this[0][t]:n.each(this,function(n,i){i[t]=e})},html:function(t){return t===i?this[0][L(this[0])?"innerHTML":"value"]:n.each(this,function(n,e){e[L(e)?"innerHTML":"value"]=t})},remove:function(){return n.each(this,function(){this.parentNode&&this.parentNode.removeChild(this)})},find:function(t){var e=[];return n(t,this).each(function(){e.push(this)}),n(e)},hasClass:function(t){var e=!1;return n.each(this,function(){return p(this,t)?!(e=!0):void 0}),e},addClass:function(t){return t=t.split(/\s+/),n.each(this,function(e,i){n.each(t,function(){p(i,this)||(i.className+=(i.className.length?" ":"")+this)})})},removeClass:function(t){var e=RegExp("(^|\\s)("+t.replace(/\s+/g,"|")+")($|\\s)","g"),i=function(t,n,e,i){return n===i?" ":""};return n.each(this,function(){this.className=this.className.replace(e,i)})},toggleClass:function(t,e){return e=e===i?p:e?d:f,t=t.split(/\s+/),n.each(this,function(i,r){n.each(t,function(){n(r)[e(r,this)?"removeClass":"addClass"](this)})})},hide:function(){return n.each(this,function(){var t=n(this),e=t.css("display");"none"!==e&&(this.setAttribute("data-bc-oldisplay",e),t.css("display","none"))})},show:function(){return n.each(this,function(){this.style.display=null,"none"===m(this,"display")&&(this.style.display=this.getAttribute("data-bc-olddisplay")||function(t){if(!e[t.nodeName]){var n=document.createElement(t.nodeName),i=document.body;i.appendChild(n),e[t.nodeName]=m(n,"display"),"none"===e[t.nodeName]&&(e[t.nodeName]="block"),i.removeChild(n)}return e[t.nodeName]}(this))})},toggle:function(t){return t=t===i?function(t){return"none"===t.css("display")}:t?f:d,n.each(this,function(){var e=n(this);e[t(e)?"show":"hide"]()})},is:function(t){if(A(t))return!!~this.indexOf(t);var e=!1,i=b(t);return n.each(this,function(n,r){return i(r,t,n)?!(e=!0):void 0}),e},filter:function(t){if(A(t))return n(~this.indexOf(t)?t:[]);var e=[],i=b(t);return n.each(this,function(n,r){i(r,t,n)&&e.push(r)}),n(e)},not:function(t){if(A(t))return n(~this.indexOf(t)?[]:t);var e=[],i=b(t);return n.each(this,function(n,r){i(r,t,n)||e.push(r)}),n(e)},closest:function(t){var e=[];return n.each(this,function(i,r){do if(n(r).is(t))return!e.push(r);while(r=r.parentNode)}),n(e)},append:function(t){var e=this,i=arguments;return i.length>1&&(t=j(i)),w(t)?(n.each(t,function(t,n){e.append(n)}),e):E(t)?n.each(this,function(e,i){L(i)&&n(i).append(t.call(i,e,i.innerHTML))}):"string"==typeof t?this.append(P(t)):A(t)?n.each(this,function(n,e){e.appendChild(n?t.cloneNode(!0):t)}):this},appendTo:function(t){return n(t).append(this),this}},window[t]=n}})("undefined"!=typeof basicCompatExportName?basicCompatExportName:"$");
